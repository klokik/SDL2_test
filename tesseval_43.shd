#version 430 core

layout (triangles, equal_spacing, ccw) in;

in vec4 _pos[];
in vec3 _nrm[];

out vec4 pos;
out vec3 nrm;

void main()
{
	float u = gl_TessCoord.x;
	float v = gl_TessCoord.y;
	float w = gl_TessCoord.z;

	gl_Position =
		gl_in[0].gl_Position*u + 
		gl_in[1].gl_Position*v +
		gl_in[2].gl_Position*w;

	pos = _pos[0]*u+_pos[1]*v+_pos[2]*w;
	nrm = _nrm[0]*u+_nrm[1]*v+_nrm[2]*w;
}